<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>DragonBlog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="dragon-yuan">
<meta property="og:type" content="website">
<meta property="og:title" content="DragonBlog">
<meta property="og:url" content="https://dragon-yuan.github.io/page/9/index.html">
<meta property="og:site_name" content="DragonBlog">
<meta property="og:description" content="dragon-yuan">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DragonBlog">
<meta name="twitter:description" content="dragon-yuan">
    

    

    
        <link rel="icon" href="/css/images/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-97008058-1', 'auto');
ga('send', 'pageview');

</script>
    
    
    
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d0cb966ae2e1a5c380fbb5b232f01178";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">DragonBlog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories/Java">Java</a>
                
                    <a class="main-nav-link" href="/categories/Gallery">Gallery</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">
</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories/Java">Java</a></td>
                
                    <td><a class="main-nav-link" href="/categories/Gallery">Gallery</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" style="display: none;" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.jpg" />
            <h2 id="name">Dragon</h2>
            <h3 id="title">Java Web Developer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing (Harbin), China</span>
            <a id="follow" target="_blank" href="https://github.com/dragon-yuan">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                102
                <span>posts</span>
            </div>
            <div class="article-info-block">
                0
                <span>tag</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/dragon-yuan" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://twitter.com/p17856001" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/idragonyuan" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://weibo.com/529383542" target="_blank" title="weibo" class=tooltip>
                            <i class="fa fa-weibo"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
	</div>
</aside>

            
            <section id="main">
    <article id="post-centos-6-7-pptp-vpn-sh" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/11/20/centos-6-7-pptp-vpn-sh/">CentOS 6、7下PPTP VPN.sh</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/11/20/centos-6-7-pptp-vpn-sh/">
            <time datetime="2015-11-19T21:44:16.000Z" itemprop="datePublished">2015-11-20</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <pre class="prettyprint lang-bsh" style="box-sizing: inherit; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: #cccccc; padding: 0.5em; overflow: auto; word-wrap: normal; font-size: 15.3999996185303px; line-height: 1.55; font-family: Consolas, Monaco, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace; background-color: #f0f0f0;"><span class="com" style="box-sizing: inherit; color: #880000;">#!/bin/bash</span>
<span class="com" style="box-sizing: inherit; color: #880000;">#</span>
<span class="com" style="box-sizing: inherit; color: #880000;"># Author:  yeho <lj2007331 at="" gmail.com=""></lj2007331></span>
<span class="com" style="box-sizing: inherit; color: #880000;"># Blog:  http://blog.linuxeye.com</span>
<span class="com" style="box-sizing: inherit; color: #880000;">#</span>
<span class="com" style="box-sizing: inherit; color: #880000;"># Installs a PPTP VPN-only system for CentOS</span>

<span class="com" style="box-sizing: inherit; color: #880000;"># Check if user is root</span>
<span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pln" style="box-sizing: inherit; color: #000000;">$</span><span class="pun" style="box-sizing: inherit; color: #666600;">(</span><span class="pln" style="box-sizing: inherit; color: #000000;">id</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">u</span><span class="pun" style="box-sizing: inherit; color: #666600;">)</span> <span class="pun" style="box-sizing: inherit; color: #666600;">!=</span> <span class="str" style="box-sizing: inherit; color: #008800;">"0"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="pln" style="box-sizing: inherit; color: #000000;">echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"Error: You must be root to run this script"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="pln" style="box-sizing: inherit; color: #000000;">exit</span> <span class="lit" style="box-sizing: inherit; color: #006666;">1</span> <span class="pln" style="box-sizing: inherit; color: #000000;">export PATH</span><span class="pun" style="box-sizing: inherit; color: #666600;">=/</span><span class="pln" style="box-sizing: inherit; color: #000000;">usr</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="kwd" style="box-sizing: inherit; color: #000088;">local</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sbin</span><span class="pun" style="box-sizing: inherit; color: #666600;">:/</span><span class="pln" style="box-sizing: inherit; color: #000000;">usr</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="kwd" style="box-sizing: inherit; color: #000088;">local</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">bin</span><span class="pun" style="box-sizing: inherit; color: #666600;">:/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sbin</span><span class="pun" style="box-sizing: inherit; color: #666600;">:/</span><span class="pln" style="box-sizing: inherit; color: #000000;">bin</span><span class="pun" style="box-sizing: inherit; color: #666600;">:/</span><span class="pln" style="box-sizing: inherit; color: #000000;">usr</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sbin</span><span class="pun" style="box-sizing: inherit; color: #666600;">:/</span><span class="pln" style="box-sizing: inherit; color: #000000;">usr</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">bin
clear
printf</span> <span class="str" style="box-sizing: inherit; color: #008800;">"
#######################################################################
#   </span> <span class="wp_keywordlink" style="box-sizing: inherit;">[<span class="str" style="box-sizing: inherit; color: #008800;">LNMP</span>](https://blog.linuxeye.com/31.html "LNMP")</span><span class="str" style="box-sizing: inherit; color: #008800;">/</span><span class="wp_keywordlink" style="box-sizing: inherit;">[<span class="str" style="box-sizing: inherit; color: #008800;">LAMP</span>](https://blog.linuxeye.com/82.html "LAMP")</span><span class="str" style="box-sizing: inherit; color: #008800;">/LANMP for CentOS/RadHat 5+ Debian 6+ and Ubuntu 12+    #
# For more information please visit http://blog.linuxeye.com/31.html  #
#######################################################################
"</span>

<span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">!</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">e</span> <span class="str" style="box-sizing: inherit; color: #008800;">'/usr/bin/curl'</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="pln" style="box-sizing: inherit; color: #000000;">yum</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">y install curl

VPN_IP</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="str" style="box-sizing: inherit; color: #008800;">`curl ipv4.icanhazip.com`</span> <span class="pln" style="box-sizing: inherit; color: #000000;">VPN_USER</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="str" style="box-sizing: inherit; color: #008800;">"linuxeye"</span> <span class="pln" style="box-sizing: inherit; color: #000000;">VPN_PASS</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="str" style="box-sizing: inherit; color: #008800;">"linuxeye"</span> <span class="pln" style="box-sizing: inherit; color: #000000;">VPN_LOCAL</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="str" style="box-sizing: inherit; color: #008800;">"192.168.0.150"</span> <span class="pln" style="box-sizing: inherit; color: #000000;">VPN_REMOTE</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="str" style="box-sizing: inherit; color: #008800;">"192.168.0.151-200"</span>

<span class="kwd" style="box-sizing: inherit; color: #000088;">while</span> <span class="pun" style="box-sizing: inherit; color: #666600;">:</span>
<span class="kwd" style="box-sizing: inherit; color: #000088;">do</span> <span class="pln" style="box-sizing: inherit; color: #000000;">        echo
        read</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">p</span> <span class="str" style="box-sizing: inherit; color: #008800;">"Please input username: "</span> <span class="pln" style="box-sizing: inherit; color: #000000;">VPN_USER
       </span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">n</span> <span class="str" style="box-sizing: inherit; color: #008800;">"$VPN_USER"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">break</span>
<span class="kwd" style="box-sizing: inherit; color: #000088;">done</span>

<span class="kwd" style="box-sizing: inherit; color: #000088;">while</span> <span class="pun" style="box-sizing: inherit; color: #666600;">:</span>
<span class="kwd" style="box-sizing: inherit; color: #000088;">do</span> <span class="pln" style="box-sizing: inherit; color: #000000;">        echo
        read</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">p</span> <span class="str" style="box-sizing: inherit; color: #008800;">"Please input password: "</span> <span class="pln" style="box-sizing: inherit; color: #000000;">VPN_PASS
       </span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">n</span> <span class="str" style="box-sizing: inherit; color: #008800;">"$VPN_PASS"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">break</span>
<span class="kwd" style="box-sizing: inherit; color: #000088;">done</span> <span class="pln" style="box-sizing: inherit; color: #000000;">clear</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">if</span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">n</span> <span class="str" style="box-sizing: inherit; color: #008800;">"`grep 'CentOS</span> <span class="wp_keywordlink" style="box-sizing: inherit;">[<span class="str" style="box-sizing: inherit; color: #008800;">Linux</span>](http://www.linuxeye.com/ "Linux")</span> <span class="str" style="box-sizing: inherit; color: #008800;">release 7' /etc/redhat-release`"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">];</span><span class="kwd" style="box-sizing: inherit; color: #000088;">then</span> <span class="pln" style="box-sizing: inherit; color: #000000;">       </span> <span class="com" style="box-sizing: inherit; color: #880000;">#CentOS_REL=7</span> <span class="pln" style="box-sizing: inherit; color: #000000;">    </span><span class="kwd" style="box-sizing: inherit; color: #000088;">if</span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">!</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">e</span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">yum</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">repos</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">d</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">epel</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">repo</span> <span class="pun" style="box-sizing: inherit; color: #666600;">];</span><span class="kwd" style="box-sizing: inherit; color: #000088;">then</span> <span class="pln" style="box-sizing: inherit; color: #000000;">        cat</span> <span class="pun" style="box-sizing: inherit; color: #666600;">></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">yum</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">repos</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">d</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">epel</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">repo</span> <span class="pun" style="box-sizing: inherit; color: #666600;"><<</span> <span class="pln" style="box-sizing: inherit; color: #000000;">EOF</span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span><span class="pln" style="box-sizing: inherit; color: #000000;">epel</span><span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pln" style="box-sizing: inherit; color: #000000;">name</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="typ" style="box-sizing: inherit; color: #660066;">Extra</span> <span class="typ" style="box-sizing: inherit; color: #660066;">Packages</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">for</span> <span class="typ" style="box-sizing: inherit; color: #660066;">Enterprise</span> <span class="typ" style="box-sizing: inherit; color: #660066;">Linux</span> <span class="lit" style="box-sizing: inherit; color: #006666;">7</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span> <span class="pln" style="box-sizing: inherit; color: #000000;">\$basearch</span> <span class="com" style="box-sizing: inherit; color: #880000;">#baseurl=http://download.fedoraproject.org/pub/epel/7/\$basearch</span> <span class="pln" style="box-sizing: inherit; color: #000000;">mirrorlist</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="pln" style="box-sizing: inherit; color: #000000;">https</span><span class="pun" style="box-sizing: inherit; color: #666600;">://</span><span class="pln" style="box-sizing: inherit; color: #000000;">mirrors</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">fedoraproject</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">org</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">metalink</span><span class="pun" style="box-sizing: inherit; color: #666600;">?</span><span class="pln" style="box-sizing: inherit; color: #000000;">repo</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="pln" style="box-sizing: inherit; color: #000000;">epel</span><span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="lit" style="box-sizing: inherit; color: #006666;">7</span><span class="pun" style="box-sizing: inherit; color: #666600;">&</span><span class="pln" style="box-sizing: inherit; color: #000000;">arch</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="pln" style="box-sizing: inherit; color: #000000;">\$basearch
failovermethod</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="pln" style="box-sizing: inherit; color: #000000;">priority
enabled</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="lit" style="box-sizing: inherit; color: #006666;">1</span> <span class="pln" style="box-sizing: inherit; color: #000000;">gpgcheck</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="lit" style="box-sizing: inherit; color: #006666;">0</span> <span class="pln" style="box-sizing: inherit; color: #000000;">EOF</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">fi</span> <span class="pln" style="box-sizing: inherit; color: #000000;">       </span> <span class="kwd" style="box-sizing: inherit; color: #000088;">for</span> <span class="typ" style="box-sizing: inherit; color: #660066;">Package</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">in</span> <span class="pln" style="box-sizing: inherit; color: #000000;">wget make openssl gcc</span><span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">c</span><span class="pun" style="box-sizing: inherit; color: #666600;">++</span> <span class="pln" style="box-sizing: inherit; color: #000000;">ppp pptpd iptables iptables</span><span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">services
       </span> <span class="kwd" style="box-sizing: inherit; color: #000088;">do</span> <span class="pln" style="box-sizing: inherit; color: #000000;">                yum</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">y install $Package
       </span> <span class="kwd" style="box-sizing: inherit; color: #000088;">done</span> <span class="pln" style="box-sizing: inherit; color: #000000;">        echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">'net.ipv4.ip_forward = 1'</span> <span class="pun" style="box-sizing: inherit; color: #666600;">>></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sysctl</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">conf</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">elif</span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">n</span> <span class="str" style="box-sizing: inherit; color: #008800;">"`grep 'CentOS release 6' /etc/redhat-release`"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">];</span><span class="kwd" style="box-sizing: inherit; color: #000088;">then</span> <span class="pln" style="box-sizing: inherit; color: #000000;">       </span> <span class="com" style="box-sizing: inherit; color: #880000;">#CentOS_REL=6</span> <span class="pln" style="box-sizing: inherit; color: #000000;">       </span> <span class="kwd" style="box-sizing: inherit; color: #000088;">for</span> <span class="typ" style="box-sizing: inherit; color: #660066;">Package</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">in</span> <span class="pln" style="box-sizing: inherit; color: #000000;">wget make openssl gcc</span><span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">c</span><span class="pun" style="box-sizing: inherit; color: #666600;">++</span> <span class="pln" style="box-sizing: inherit; color: #000000;">iptables ppp
       </span> <span class="kwd" style="box-sizing: inherit; color: #000088;">do</span> <span class="pln" style="box-sizing: inherit; color: #000000;">                yum</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">y install $Package
       </span> <span class="kwd" style="box-sizing: inherit; color: #000088;">done</span> <span class="pln" style="box-sizing: inherit; color: #000000;">    sed</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">i</span> <span class="str" style="box-sizing: inherit; color: #008800;">'s@net.ipv4.ip_forward.*@net.ipv4.ip_forward = 1@g'</span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sysctl</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">conf
    rpm</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="typ" style="box-sizing: inherit; color: #660066;">Uvh</span> <span class="pln" style="box-sizing: inherit; color: #000000;">http</span><span class="pun" style="box-sizing: inherit; color: #666600;">://</span><span class="pln" style="box-sizing: inherit; color: #000000;">poptop</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">sourceforge</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">net</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">yum</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">stable</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">rhel6</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">pptp</span><span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">release</span><span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">current</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">noarch</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">rpm
    yum</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">y install pptpd</span> <span class="kwd" style="box-sizing: inherit; color: #000088;">else</span> <span class="pln" style="box-sizing: inherit; color: #000000;">        echo</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">e</span> <span class="str" style="box-sizing: inherit; color: #008800;">"\033[31mDoes not support this OS, Please contact the author! \033[0m"</span> <span class="pln" style="box-sizing: inherit; color: #000000;">        exit</span> <span class="lit" style="box-sizing: inherit; color: #006666;">1</span>
<span class="kwd" style="box-sizing: inherit; color: #000088;">fi</span> <span class="pln" style="box-sizing: inherit; color: #000000;">echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"1"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">proc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sys</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">net</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">ipv4</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">ip_forward

sysctl</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">p</span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sysctl</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">conf</span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">z</span> <span class="str" style="box-sizing: inherit; color: #008800;">"`grep '^localip' /etc/pptpd.conf`"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="pln" style="box-sizing: inherit; color: #000000;">echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"localip $VPN_LOCAL"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">>></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">pptpd</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">conf</span> <span class="com" style="box-sizing: inherit; color: #880000;"># Local IP address of your VPN server</span>
<span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">z</span> <span class="str" style="box-sizing: inherit; color: #008800;">"`grep '^remoteip' /etc/pptpd.conf`"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="pln" style="box-sizing: inherit; color: #000000;">echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"remoteip $VPN_REMOTE"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">>></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">pptpd</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">conf</span> <span class="com" style="box-sizing: inherit; color: #880000;"># Scope for your home network</span>

<span class="kwd" style="box-sizing: inherit; color: #000088;">if</span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">z</span> <span class="str" style="box-sizing: inherit; color: #008800;">"`grep '^ms-dns' /etc/ppp/options.pptpd`"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">];</span><span class="kwd" style="box-sizing: inherit; color: #000088;">then</span> <span class="pln" style="box-sizing: inherit; color: #000000;">    echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"ms-dns 8.8.8.8"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">>></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">ppp</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">options</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">pptpd</span> <span class="com" style="box-sizing: inherit; color: #880000;"># Google DNS Primary</span> <span class="pln" style="box-sizing: inherit; color: #000000;">    echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"ms-dns 209.244.0.3"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">>></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">ppp</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">options</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">pptpd</span> <span class="com" style="box-sizing: inherit; color: #880000;"># Level3 Primary</span> <span class="pln" style="box-sizing: inherit; color: #000000;">    echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"ms-dns 208.67.222.222"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">>></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">ppp</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">options</span><span class="pun" style="box-sizing: inherit; color: #666600;">.</span><span class="pln" style="box-sizing: inherit; color: #000000;">pptpd</span> <span class="com" style="box-sizing: inherit; color: #880000;"># OpenDNS Primary</span>
<span class="kwd" style="box-sizing: inherit; color: #000088;">fi</span> <span class="pln" style="box-sizing: inherit; color: #000000;">echo</span> <span class="str" style="box-sizing: inherit; color: #008800;">"$VPN_USER pptpd $VPN_PASS *"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">>></span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">ppp</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">chap</span><span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">secrets

ETH</span><span class="pun" style="box-sizing: inherit; color: #666600;">=</span><span class="str" style="box-sizing: inherit; color: #008800;">`route | grep default | awk '{print $NF}'`</span>
<span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">z</span> <span class="str" style="box-sizing: inherit; color: #008800;">"`grep '1723 -j ACCEPT' /etc/sysconfig/iptables`"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="pln" style="box-sizing: inherit; color: #000000;">iptables</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">I INPUT</span> <span class="lit" style="box-sizing: inherit; color: #006666;">4</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">p tcp</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">m state</span> <span class="pun" style="box-sizing: inherit; color: #666600;">--</span><span class="pln" style="box-sizing: inherit; color: #000000;">state NEW</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">m tcp</span> <span class="pun" style="box-sizing: inherit; color: #666600;">--</span><span class="pln" style="box-sizing: inherit; color: #000000;">dport</span> <span class="lit" style="box-sizing: inherit; color: #006666;">1723</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">j ACCEPT</span> <span class="pun" style="box-sizing: inherit; color: #666600;">[</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">z</span> <span class="str" style="box-sizing: inherit; color: #008800;">"`grep 'gre -j ACCEPT' /etc/sysconfig/iptables`"</span> <span class="pun" style="box-sizing: inherit; color: #666600;">]</span> <span class="pun" style="box-sizing: inherit; color: #666600;">&&</span> <span class="pln" style="box-sizing: inherit; color: #000000;">iptables</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">I INPUT</span> <span class="lit" style="box-sizing: inherit; color: #006666;">5</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">p gre</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">j ACCEPT
iptables</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">t nat</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">A POSTROUTING</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">o $ETH</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">j MASQUERADE
service iptables save
sed</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">i</span> <span class="str" style="box-sizing: inherit; color: #008800;">'s@^-A INPUT -j REJECT --reject-with icmp-host-prohibited@#-A INPUT -j REJECT --reject-with icmp-host-prohibited@'</span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sysconfig</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">iptables
sed</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">i</span> <span class="str" style="box-sizing: inherit; color: #008800;">'s@^-A FORWARD -j REJECT --reject-with icmp-host-prohibited@#-A FORWARD -j REJECT --reject-with icmp-host-prohibited@'</span> <span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">etc</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">sysconfig</span><span class="pun" style="box-sizing: inherit; color: #666600;">/</span><span class="pln" style="box-sizing: inherit; color: #000000;">iptables
service iptables restart

service pptpd restart
chkconfig pptpd on
clear

echo</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">e</span> <span class="str" style="box-sizing: inherit; color: #008800;">"You can now connect to your VPN via your external IP \033[32m${VPN_IP}\033[0m"</span> <span class="pln" style="box-sizing: inherit; color: #000000;">echo</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">e</span> <span class="str" style="box-sizing: inherit; color: #008800;">"Username: \033[32m${VPN_USER}\033[0m"</span> <span class="pln" style="box-sizing: inherit; color: #000000;">echo</span> <span class="pun" style="box-sizing: inherit; color: #666600;">-</span><span class="pln" style="box-sizing: inherit; color: #000000;">e</span> <span class="str" style="box-sizing: inherit; color: #008800;">"Password: \033[32m${VPN_PASS}\033[0m"</span></pre>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/11/20/centos-6-7-pptp-vpn-sh/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/11/20/centos-6-7-pptp-vpn-sh/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-putty" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/10/24/putty/">Putty</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/10/24/putty/">
            <time datetime="2015-10-23T16:10:57.000Z" itemprop="datePublished">2015-10-24</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><a href="https://www.baidu.com/link?url=1_2QzbVckiyvVRr0oT1xUm2UtixY6MZbH0KdrWF3Sfr0hN35MUEjVARPO2JysZjDjh6Z0e-hrl1-Y4Y47kYSPRPWctCFLqvpfAcR70KZs7u&amp;wd=&amp;eqid=ec1ccc7700012fae00000002585ce1d9" target="_blank" rel="external">Putty</a> DOWNLOAD</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/10/24/putty/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/10/24/putty/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-centos-7-64bit-apache-mysql-php" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/10/17/centos-7-64bit-apache-mysql-php/">CentOS-7-64bit 配置Apache + MySQL + PHP </a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/10/17/centos-7-64bit-apache-mysql-php/">
            <time datetime="2015-10-17T00:40:51.000Z" itemprop="datePublished">2015-10-17</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>一、配置防火墙，开启80端口、3306端口</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>CentOS 7.0默认使用的是firewall作为防火墙，这里改为iptables防火墙。</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>1、关闭firewall：</strong></span></p>
<p><span style="word-wrap: break-word; color: #64451d;"><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>#停止firewall服务</strong></span><br></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; background: #ffffff;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>systemctl stop firewalld.service</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 24px; color: #e53333;"><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><span style="word-wrap: break-word;"><strong>#禁止firewall开机启动</strong></span></span></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>systemctl disable firewalld.service</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; font-size: 12px; line-height: 26px; color: #64451d;"> </span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>2、安装iptables防火墙</strong></span></p>
<p><span style="word-wrap: break-word; color: #64451d;"><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><span style="word-wrap: break-word;"><strong>#安装</strong></span></span><br></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>yum install iptables-services</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 16px; color: #000000;"><span style="word-wrap: break-word;"><strong>#编辑防火墙配置文件</strong></span></span><span style="color: #666666; font-family: 宋体, Arial; font-size: 12px; line-height: 26px;"> </span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>vi /etc/sysconfig/iptables</strong></span><br><br></div>

<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong># Firewall configuration written by system-config-firewall</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong># Manual customization of this file is not recommended.</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>*filter</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>:INPUT ACCEPT [0:0]</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>:FORWARD ACCEPT [0:0]</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>:OUTPUT ACCEPT [0:0]</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A INPUT -m state –state ESTABLISHED,RELATED -j ACCEPT</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A INPUT -p icmp -j ACCEPT</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A INPUT -i lo -j ACCEPT</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A INPUT -m state –state NEW -m tcp -p tcp –dport 22 -j ACCEPT</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A INPUT -m state –state NEW -m tcp -p tcp –dport 3306 -j ACCEPT</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A INPUT -j REJECT –reject-with icmp-host-prohibited</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>-A FORWARD -j REJECT –reject-with icmp-host-prohibited</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>COMMIT</strong></span></p>
<p><span style="word-wrap: break-word; color: #64451d;"><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>:wq! #保存退出</strong></span>  </span></p>
<p></p>
<p><span style="word-wrap: break-word; color: #64451d;"><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong> #最后重启防火墙使配置生效</strong></span><br></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>systemctl restart iptables.service</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 16px; color: #000000;"><span style="word-wrap: break-word;"><strong>#设置防火墙开机启动</strong></span></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>systemctl enable iptables.service</strong></span><br><br></div>

<p><span style="word-wrap: break-word; color: #64451d;"><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>二、关闭SELINUX</strong></span><br><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>#修改配置文件</strong></span><br></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>vi /etc/selinux/config</strong></span><br><br></div>

<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>#SELINUX=enforcing #注释掉</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>#SELINUXTYPE=targeted #注释掉</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>SELINUX=disabled #增加</strong></span></p>
<p><span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>:wq! #保存退出</strong></span></p>
<p><span style="word-wrap: break-word; color: #64451d;"><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>#使配置立即生效</strong></span><br></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>setenforce 0</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 16px; color: #000000;"><strong>三.安装apache</strong></span>  </p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>yum install httpd</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 16px; color: #000000;"><strong>可能会用到的：</strong></span></p>
<p><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>systemctl start httpd.service #启动apache</strong></span></p>
<p><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>systemctl stop httpd.service #停止apache</strong></span></p>
<p><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>systemctl restart httpd.service #重启apache</strong></span></p>
<p><span style="word-wrap: break-word; font-size: 16px; color: #000000;"><strong>systemctl enable httpd.service #设置apache开机启动</strong></span></p>
<p>CentOS 7的yum源中貌似没有正常安装mysql时的mysql-sever文件，需要去官网上下载</p>
<table style="padding: 0px; margin: 0px; font-family: Verdana, Arial, Tahoma; font-size: 14px; line-height: 25px;" border="0" cellspacing="0" cellpadding="0"><br><br><tbody style="padding: 0px; margin: 0px;"><br><br><tr style="padding: 0px; margin: 0px;"><br><br><td style="padding: 0px; margin: 0px;"><br><br><div style="padding: 0px; margin: 0px;"><br><br><div style="padding: 0px; margin: 0px;"># wget <a href="http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm" target="_blank" rel="external">http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm</a></div><br><br><div style="padding: 0px; margin: 0px;"># rpm -ivh mysql-community-release-el7-5.noarch.rpm</div><br><br><div style="padding: 0px; margin: 0px;"># yum install mysql-community-server</div><br><br></div><br><br></td><br><br></tr><br><br></tbody><br><br></table>

<p>成功安装之后重启mysql服务</p>
<table style="padding: 0px; margin: 0px; font-family: Verdana, Arial, Tahoma; font-size: 14px; line-height: 25px;" border="0" cellspacing="0" cellpadding="0"><br><br><tbody style="padding: 0px; margin: 0px;"><br><br><tr style="padding: 0px; margin: 0px;"><br><br><td style="padding: 0px; margin: 0px;"><br><br><div style="padding: 0px; margin: 0px;"><br><br><div style="padding: 0px; margin: 0px;"># service mysqld restart</div><br><br></div><br><br></td><br><br></tr><br><br></tbody><br><br></table>

<p>初次安装mysql是root账户是没有密码的</p>
<p>设置密码的方法</p>
<table style="padding: 0px; margin: 0px; font-family: Verdana, Arial, Tahoma; font-size: 14px; line-height: 25px;" border="0" cellspacing="0" cellpadding="0"><br><br><tbody style="padding: 0px; margin: 0px;"><br><br><tr style="padding: 0px; margin: 0px;"><br><br><td style="padding: 0px; margin: 0px;"><br><br><div style="padding: 0px; margin: 0px;"><br><br><div style="padding: 0px; margin: 0px;"># mysql -uroot</div><br><br><div style="padding: 0px; margin: 0px;">mysql&gt; set password for ‘root’@‘localhost’ = password(‘mypasswd’);</div><br><br><div style="padding: 0px; margin: 0px;">mysql&gt; exit</div><br><br></div><br><br></td><br><br></tr><br><br></tbody><br><br></table>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 16px; color: #000000;"><strong>五.安装php</strong></span>  </p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>yum install php</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 16px; color: #000000;"><strong>安装PHP组件，使PHP支持mysql</strong></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>yum install php-mysql php-gd libjpeg* php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-bcmath php-mhash</strong></span><br><br></div>

<p><span style="word-wrap: break-word; font-family: 宋体, Arial; line-height: 26px; font-size: 16px; color: #000000;"><strong>重启对应服务</strong></span></p>
<div id="codeText" class="codeText" style="word-wrap: break-word; border: 1px solid #dddddd; width: 1041.453125px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Consolas, monospace; color: #666666; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><br><br>1.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>systemctl restart mysqld.service</strong></span><br>2.  <span style="word-wrap: break-word; color: #000000; font-size: 16px;"><strong>systemctl restart httpd.service</strong></span><br><br></div>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/10/17/centos-7-64bit-apache-mysql-php/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/10/17/centos-7-64bit-apache-mysql-php/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-centos-7-shadowsocks" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/10/17/centos-7-shadowsocks/">Centos 7安装配置Shadowsocks</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/10/17/centos-7-shadowsocks/">
            <time datetime="2015-10-16T23:52:38.000Z" itemprop="datePublished">2015-10-17</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="源网页"><a href="#源网页" class="headerlink" title="源网页"></a><a href="源网页https:/www.ifshow.com/centos-7-installation-and-configuration-shadowsocks/">源网页</a></h2><h2 id="1-安装shadowsocks"><a href="#1-安装shadowsocks" class="headerlink" title="1. 安装shadowsocks"></a>1. 安装shadowsocks</h2><pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">yum install python-setuptools && easy_install pip
pip install shadowsocks</pre>

<h2 id="2-新建shadowsocks的配置文件"><a href="#2-新建shadowsocks的配置文件" class="headerlink" title="2. 新建shadowsocks的配置文件"></a>2. 新建shadowsocks的配置文件</h2><pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">mkdir -p /etc/shadowsocks
vi /etc/shadowsocks/config.json</pre>

<p>输入以下内容：</p>
<pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">{
 "server":"0.0.0.0",
 "server_port":8888,
 "local_address": "127.0.0.1",
 "local_port":1080,
 "password":"mypassword",
 "timeout":300,
 "method":"aes-256-cfb",
 "fast_open": false,
 "workers": 1
}</pre>

<p>说明：服务器IP，服务端口（建议自定义），本地监听IP，本地监听端口，密码（建议自定义），超时时间，加密算法，关闭fast-open，工作进程数量为1。</p>
<h2 id="3-新建shadowsocks的-service文件"><a href="#3-新建shadowsocks的-service文件" class="headerlink" title="3. 新建shadowsocks的.service文件"></a>3. 新建shadowsocks的.service文件</h2><pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">vi /etc/systemd/system/shadowsocks-server.service</pre>

<p>输入以下内容：</p>
<pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">[Unit]
Description=Shadowsocks Server
After=network.target

[Service]
Type=forking
PIDFile=/run/shadowsocks/server.pid
PermissionsStartOnly=true
ExecStartPre=/bin/mkdir -p /run/shadowsocks
ExecStartPre=/bin/chown root:root /run/shadowsocks
ExecStart=/usr/bin/ssserver --pid-file /var/run/shadowsocks/server.pid -c /etc/shadowsocks/config.json -d start
Restart=on-abort
User=root
Group=root
UMask=0027

[Install]
WantedBy=multi-user.target</pre>

<h2 id="4-运行shadowsocks服务并设置为开机自启："><a href="#4-运行shadowsocks服务并设置为开机自启：" class="headerlink" title="4. 运行shadowsocks服务并设置为开机自启："></a>4. 运行shadowsocks服务并设置为开机自启：</h2><pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">systemctl start shadowsocks-server.service
systemctl enable shadowsocks-server.service</pre>

<h2 id="5-防火墙开放shadowsocks服务端口："><a href="#5-防火墙开放shadowsocks服务端口：" class="headerlink" title="5. 防火墙开放shadowsocks服务端口："></a>5. 防火墙开放shadowsocks服务端口：</h2><pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">firewall-cmd --permanent --add-port=8888/tcp
firewall-cmd --reload</pre>

<h2 id="6-常用操作"><a href="#6-常用操作" class="headerlink" title="6. 常用操作"></a>6. 常用操作</h2><p>升级shadowsocks</p>
<pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">pip install -U shadowsocks</pre>

<p>卸载shadowsocks</p>
<pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">pip uninstall shadowsocks
</pre>

<p>查询已安装的shadowsocks</p>
<pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">pip search "shadowsocks"</pre>

<p>停止shadowsocks服务</p>
<pre style="border: 1px solid #7fb5ff; font-family: 'Courier 10 Pitch', Courier, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 1.625em; outline: 0px; padding: 0.75em 1.625em; vertical-align: baseline; font-stretch: normal; line-height: 1.5; overflow: auto; color: #373737; background: #d9e9ff;">systemctl stop shadowsocks-server.service</pre>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/10/17/centos-7-shadowsocks/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/10/17/centos-7-shadowsocks/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-myeclipse10-0-key" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/10/13/myeclipse10-0-key/">MyEclipse10.0 KEY</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/10/13/myeclipse10-0-key/">
            <time datetime="2015-10-13T02:41:36.000Z" itemprop="datePublished">2015-10-13</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>Subscriber: dragon</p>
<p>Code: qLR8ZC-855575-63656756147000009</p>
<p>THANKS：<a href="http://key.858game.com/" target="_blank" rel="external">http://key.858game.com/</a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/10/13/myeclipse10-0-key/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/10/13/myeclipse10-0-key/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-shadowsocks" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/10/10/shadowsocks/">Shadowsocks</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/10/10/shadowsocks/">
            <time datetime="2015-10-10T00:11:54.000Z" itemprop="datePublished">2015-10-10</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><a href="../software/Shadowsocks.exe">Shadowsocks</a> DOWNLOAD</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/10/10/shadowsocks/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/10/10/shadowsocks/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-ubuntu-apache2-php5-mysql" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/09/25/ubuntu-apache2-php5-mysql/">Ubuntu--apache2+php5+mysql</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/09/25/ubuntu-apache2-php5-mysql/">
            <time datetime="2015-09-25T06:41:57.000Z" itemprop="datePublished">2015-09-25</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>sudo apt-get install build-essential autoconf automake1.9 cvs subversion</p>
<p>sudo apt-get install apache2</p>
<p>sudo apt-get install php5</p>
<p>sudo apt-get install mysql-server libapache2-mod-auth-mysql php5-mysql</p>
<p>Mysql的启动/停止/重启<br>sudo /etc/init.d/mysql start<br>sudo /etc/init.d/mysql stop<br>sudo /etc/init.d/mysql restart</p>
<p>/*</p>
<p>Mysql 安装完后设置root密码<br>mysql -uroot    (一开始root用户的密码为空所以可以进去， 如果在安装的时候您在界面中设置了password<br>可跳过此步)<br>进入mysql控制台：<br>set password for ‘root’@’localhost’=PASSWORD(‘yourpassword’);<br>如果成功， mysql提示 ： Query OK 0rows affected（0.00sec）</p>
<p>*/</p>
<p>安装完成配置<br>//    sudo gedit /etc/apach2/apach2.conf配置apache服务器<br>//    sudo gedit  /etc/php5/apach2/php.ini 配置php在文本框中找到”; extension=mysql.so”， 去掉；表示apache启动时加载与mysql连接的模块， 然后保存，</p>
<p>重启apache服务器。sudo /etc/init.d/apache2 restart</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/09/25/ubuntu-apache2-php5-mysql/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/09/25/ubuntu-apache2-php5-mysql/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-mstsc" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/09/23/mstsc/">mstsc端口修改</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/09/23/mstsc/">
            <time datetime="2015-09-23T07:01:49.000Z" itemprop="datePublished">2015-09-23</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><span style="font-family: 'Microsoft Yahei', 微软雅黑, arial, 宋体, sans-serif; font-size: 16px; line-height: 28px; text-align: justify;">1.HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp</span></p>
<p><span style="font-family: 'Microsoft Yahei', 微软雅黑, arial, 宋体, sans-serif; font-size: 16px; line-height: 28px; text-align: justify;">2.HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TerminalServer\WinStations\RDP-TCP</span></p>
<p><span style="font-family: 'Microsoft Yahei', 微软雅黑, arial, 宋体, sans-serif; font-size: 16px; line-height: 28px; text-align: justify;">右侧PortNumber</span></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/09/23/mstsc/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/09/23/mstsc/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-net-use" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/09/22/net-use/">net use错误原因解决</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/09/22/net-use/">
            <time datetime="2015-09-22T01:31:03.000Z" itemprop="datePublished">2015-09-22</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Operations/">Operations</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>(1)”发生系统错误 1326。 登录失败： 未知的用户名或错误密码。” </p>
<p>在远程机的”控制面板-文件夹选项-查看-简单的文件共享”,去掉选取,然后再尝试连接。简单文件共享会把网络连接权限都归为 guest连接，是无法访问C$等管理共享的. </p>
<p>(2)”发生系统错误 1327。 登陆失败：用户帐户限制。<br>可能的原因包括不允许空密码，登陆时间限制，或强制的策略限。”在远程机的”控制面板－管理工具－本地安全策略－安全选项－用户权限”指派里，禁用”空密码用户只能进行控制台登陆”. </p>
<p>(3)”//IP/c$”时提示找不到网络途径。<br>在”网络和拨号连接”中”本地连接”中选取”Internet协议(TCP/IP)”属性，进入”高级TCP/IP设置”选”WINS设置”里面有一项”启用TCP/IP的NETBIOS</p>
<p>/////////////////////////////////////////////////////////////////////////////</p>
<p>问：net use 找不到网络路径 net use z:&gt;\192.168.0.2\C$ “18553262” /user:adminis</p>
<p>Net use 会记录新的网络连接。</p>
<p>1，只有nt/2000/xp及以上系统才可以建立ipc$。如果你用的是98/me是没有该功能的。 </p>
<p>2，确认你的命令没有打错。正确的命令是： net use \目标IP\ipc$ “密码” /user:”用户名” </p>
<p>注意别多了或少了空格。当用户名和密码中不包含空格时两边的双引号可以省略。空密码用””表示。 </p>
<p>3，根据返回的错误号分析原因：<br>错误号5，拒绝访问 ： 很可能你使用的用户不是管理员权限的，先提升权限；<br>错误号51，Windows 无法找到网络路径 : 网络有问题；<br>错误号53，找不到网络路径 ： ip地址错误；目标未开机；目标lanmanserver服务未启动；目标有防火墙（端口过滤）；<br>错误号67，找不到网络名 ： 你的lanmanworkstation服务未启动；目标删除了ipc$；<br>错误号1219，提供的凭据与已存在的凭据集冲突 ： 你已经和对方建立了一个ipc$，请删除再连。<br>错误号1326，未知的用户名或错误密码 ： 原因很明显了；<br>错误号1792，试图登录，但是网络登录服务没有启动 ： 目标NetLogon服务未启动。（连接域控会出现此情况）<br>错误号2242，此用户的密码已经过期 ： 目标有帐号策略，强制定期要求更改密码。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/09/22/net-use/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/09/22/net-use/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-bootstrap" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/09/22/bootstrap/">Bootstrap下拉菜单</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/09/22/bootstrap/">
            <time datetime="2015-09-21T23:31:29.000Z" itemprop="datePublished">2015-09-22</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Web-Design/">Web Design</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <li class="dropdown"><br><br><a href="#" class="dropdown-toggle" data-toggle="dropdown">#<span class="caret"></span></a><br><br><ul class="dropdown-menu" role="menu"><br><br><li><a href="#feature-tab" data-tab=" ">#</a></li>

<li><a href="#feature-tab" data-tab=" ">#</a></li>

<li>&lt;a href=”#feature-tab” data-tab=“ “&gt;#</li>

<li><a href="#feature-tab" data-tab=" ">#</a></li>

<li><a href="#feature-tab" data-tab=" ">#</a></li>

<p></p></ul><p></p>
<p> </p></li><p></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">

    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_copy"></a>
<a href="http://www.jiathis.com/share?uid=2120749" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2120749" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>

            
    
        <a href="https://dragon-yuan.github.io/2015/09/22/bootstrap/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://dragon-yuan.github.io/2015/09/22/bootstrap/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/8/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/10/">Next &raquo;</a>
    </nav>
</section>
            
                <aside id="sidebar">
	<div style="height:30px;widget:300px;"></div>
	<iframe id="sidebariframe" frameborder="no" border="0" marginwidth="0" marginheight="0" width=300 height=497 src="//music.163.com/outchain/player?type=0&id=696141306&auto=0&height=430"></iframe>
	<div style="margin-top:20px;">
        
			
		
			
		
    </div>
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
<script>
var userAgentInfo = navigator.userAgent;  
var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");  
var flag = true;
for (var v = 0; v < Agents.length; v++) {  
    if (userAgentInfo.indexOf(Agents[v]) > 0) {
        document.getElementById("sidebariframe").style.display ="none";
    }
}   
</script>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 dragon<br>
        </div>
    </div>
</footer>
        
    
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'dragon-yuan'};
    (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>