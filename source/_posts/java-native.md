---
title: Java中的native关键字
categories:
  - Java
date: 2017-09-12 22:32:21
---
Native所定义的方法不能有方法体，他所定义的方法实现是由非java语言实现，比如C语言等。

例如：
```java
public native int hashCode();
```

标识符native可以与所有其它的java标识符连用，但是abstract除外。这是合理的，因为native暗示这些方法是有实现体的，
只不过这些实现体是非java的，但是abstract却显然的指明这些方法无实现体。
一个native方法可以返回任何java类型，包括非基本类型，而且同样可以进行异常控制。这些方法的实现体可以自制一个异常并且将其抛出，
这一点与java的方法非常相似。native的存在并不会对其他类调用这些本地方法产生任何影响，实际上调用这些方法的其他类甚至不知道它
所调用的是一个本地方法。JVM将控制调用本地方法的所有细节。

当一个类第一次被使用到时，这个类的字节码会被加载到内存，并且只会回载一次。在这个被加载的字节码的入口维持着一个该类所有方法描述
符的集合，这些方法描述符包含这样一些信息：方法代码存于何处，它有哪些参数，方法的描述符等等。
如果一个方法描述符内有native，这个描述符块将有一个指向该方法的实现的指针。这些实现在一些DLL文件内，但是它们会被操作系统加载
到java程序的地址空间。当一个带有本地方法的类被加载时，其相关的DLL并未被加载，因此指向方法实现的指针并不会被设置。
当本地方法被调用之前，这些DLL才会被加载，这是通过调用java.system.loadLibrary()实现的。

```html
本文转载自：http://blog.csdn.net/jiakw_1981/article/details/3073613
```
